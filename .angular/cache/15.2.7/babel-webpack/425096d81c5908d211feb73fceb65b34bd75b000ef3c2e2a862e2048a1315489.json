{"ast":null,"code":"import { __awaiter, __decorate, __generator, __metadata } from \"tslib\";\nimport { Component, ElementRef } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { AppComponent } from '../app.component';\nvar StamboomAanvullenComponent = /** @class */function () {\n  function StamboomAanvullenComponent(elementRef, http, Appcomponent) {\n    this.elementRef = elementRef;\n    this.http = http;\n    this.Appcomponent = Appcomponent;\n    this.textFields = [];\n    //ouders\n    this.myData = [];\n    this.naam1 = [];\n    this.naam2 = [];\n    this.showAdditionalTextbox = false;\n    this.aanhang = \"\";\n    this.ROOT_URL_ouders = this.Appcomponent.apiUrl + '/getallouders';\n    this.familyMembers = [];\n  }\n  StamboomAanvullenComponent.prototype.ngOnInit = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            //Ouders gedeelte\n            console.log(this.ROOT_URL_ouders);\n            _a = this;\n            return [4 /*yield*/, this.http.get(this.ROOT_URL_ouders).toPromise()];\n          case 1:\n            _a.myData = _b.sent();\n            this.naam1 = this.myData.map(function (result2) {\n              return result2.naam1;\n            });\n            this.naam2 = this.myData.map(function (result2) {\n              return result2.naam2;\n            });\n            this.familyMembers = this.naam1;\n            console.log(this.familyMembers);\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  StamboomAanvullenComponent.prototype.showTextbox = function () {\n    this.showAdditionalTextbox = this.selectedFamilyMember != null;\n  };\n  StamboomAanvullenComponent.prototype.toggleTextField = function () {\n    var textField = {\n      show: true,\n      childAdded: false,\n      childLimitReached: false,\n      children: [],\n      geliefde: \"\",\n      familyMember: \"\"\n    };\n    this.textFields.push(textField);\n  };\n  StamboomAanvullenComponent.prototype.addChild = function (textField) {\n    if (textField.children.length < 15) {\n      textField.children.push({\n        name: ''\n      }); // <-- add name property here\n      textField.childAdded = true;\n      textField.childLimitReached = textField.children.length === 15;\n      // Add the \"kind-toevoegen\" class to the new button(s)\n      var buttons = document.getElementsByClassName('add-child-button');\n      for (var i = 0; i < buttons.length; i++) {\n        buttons[i].classList.add('kind-toevoegen');\n      }\n    }\n  };\n  StamboomAanvullenComponent.prototype.ngAfterViewInit = function () {\n    this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor = 'white';\n  };\n  StamboomAanvullenComponent.prototype.printTextFields = function () {\n    var sendString = this.Appcomponent.apiUrl + \"/addFamilieLeden/\";\n    sendString = sendString + this.selectedFamilyMember + \",\" + this.aanhang;\n    var kinderen = \"\";\n    var kleinkinder = \"\";\n    var count = 0;\n    for (var _i = 0, _a = this.textFields; _i < _a.length; _i++) {\n      var textField = _a[_i];\n      kleinkinder = kleinkinder + count + \",\";\n      kinderen = kinderen + count + \",\" + textField.familyMember + \",\" + textField.geliefde + \",\";\n      for (var _b = 0, _c = textField.children; _b < _c.length; _b++) {\n        var child = _c[_b];\n        kleinkinder = kleinkinder + child.name + \",\";\n        console.log(child.name);\n      }\n      count = count + 1;\n    }\n    if (this.textFields.length == 0 || this.textFields[0].familyMember == \"\") {\n      this.http.get(sendString).subscribe();\n      console.log(sendString);\n    } else if (this.textFields.length > 0 && kleinkinder.length < 3) {\n      this.http.get(sendString + \"/\" + kinderen.slice(0, -1)).subscribe();\n      console.log(sendString + \"/\" + kinderen.slice(0, -1));\n    } else {\n      this.http.get(sendString + \"/\" + kinderen.slice(0, -1) + \"/\" + kleinkinder.slice(0, -1)).subscribe();\n      console.log(sendString + \"/\" + kinderen.slice(0, -1) + \"/\" + kleinkinder.slice(0, -1));\n    }\n  };\n  var _a;\n  StamboomAanvullenComponent = __decorate([Component({\n    selector: 'app-stamboom-aanvullen',\n    templateUrl: './stamboom-aanvullen.component.html',\n    styleUrls: ['./stamboom-aanvullen.component.css']\n  }), __metadata(\"design:paramtypes\", [ElementRef, HttpClient, typeof (_a = typeof AppComponent !== \"undefined\" && AppComponent) === \"function\" ? _a : Object])], StamboomAanvullenComponent);\n  return StamboomAanvullenComponent;\n}();\nexport { StamboomAanvullenComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}